\makeatletter
\patchcmd{\@verbatim}
  {\verbatim@font}
  {\verbatim@font\scriptsize}
  {}{}
\makeatother

\newunicodechar{ }{~}
\newtheorem{lemma}{Lemma}
\newtheorem{theorem}{Theorem}
\newtheorem{definition}{Definition}
\newtheorem{remark}{Remark}
\newtheorem{corollary}{Corollary}

\newcommand{\malb}[2][inline]{\todo[#1]{\textbf{malb:} #2}\xspace}
\lstdefinelanguage{Sage}[]{Python}{morekeywords={True,False,sage,cdef,cpdef,ctypedef,self},sensitive=true}

\lstset{frame=none,showtabs=False, showspaces=False, showstringspaces=False,
  commentstyle={\color{gray}}, keywordstyle={\color{black}\textbf},
  stringstyle={\color{darkgray}}, frame=single, basicstyle=\tt\scriptsize\relax,
  inputencoding=utf8, literate={…}{{\ldots}}1, belowskip=0.0em,}

\setmainfont[Scale=0.98]{XCharter}
\setmonofont[BoldFont={Cousine Bold},ItalicFont={Cousine Italic},BoldItalicFont={Cousine Bold Italic},Scale=0.90]{Cousine}
\linespread{1.04}

\RequirePackage{unicodesymbols} % after metropolis which loads fontspec

% \usepackage{unicode-math}
